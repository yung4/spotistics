{"version":3,"sources":["components/About.js","components/Login.js","components/Content/Header.js","components/Content/NavBar.js","components/Statistics/Statistics.js","components/TopArtists/TopArtistItem.js","components/TopArtists/TopArtists.js","components/TopTracks/TopTrackItem.js","components/TopTracks/TopTracks.js","api/parseData.js","api/apiRequest.js","components/Content/Body.js","components/Content/Footer.js","components/Content/Home.js","api/auth.js","App.js","index.js"],"names":["About","style","textAlign","Component","Login","Accordion","Card","Header","Toggle","as","Button","variant","eventKey","Collapse","Body","size","href","logout","useState","show","setShow","handleClose","onClick","state","userName","Image","className","src","userImg","width","height","roundedCircle","Modal","onHide","closeButton","Title","Footer","props","errorFunc","this","setState","user","images","url","display_name","e","prevProps","prevState","componentDidMount","Container","fluid","Row","Col","Nav","fill","justify","defaultActiveKey","onSelect","selectedView","setView","Item","Link","disabled","Statistics","TopArtistItem","ListGroup","action","target","artist","title","margin","genres","TopArtists","topArtists","map","key","id","TopTrackItem","openLink","console","log","track","artistName","TopTracks","topTracks","parseData","songData","parsedData","type","items","i","length","name","external_urls","spotify","arrToString","parseArtists","artists","albumTitle","album","releaseDate","release_date","parseTracks","array","arrLen","newString","toString","spotifyRequest","accessToken","a","$","ajax","headers","success","response","getTop","timeRange","limit","offset","updateArtistTimeRangeState","artistTimeRange","updateTrackTimeRangeState","trackTimeRange","hashFragment","getTopArtists","then","catch","getTopTracks","contentType","aboutModal","Home","error","window","location","replace","process","viewNum","NavBar","paramObj","getAuthorization","indexOf","params","slice","lastIndexOf","paramArr","split","tokenType","expiresIn","App","loggedInStatus","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c4e0c49e.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass About extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div style={{textAlign: 'left'}}>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tSpotistics is a completely client sided React application that shows your Spotify listening habits. \r\n\t\t\t\t\tThis means that your browser does all the work and that none of your information is being stored on a server.\r\n\t\t\t\t\tThis application does need access to your Spotify account to pull your Spotify data from the Spotify API.\r\n\t\t\t\t</p>\r\n\t\t\t\t\r\n\t\t\t\t<p>\r\n\t\t\t\t\tEven though this type of application has been done before, I always wanted to make my own version. \r\n\t\t\t\t\tWorking on Spotistics has given me good experience with JavaScript, ReactJS, and web development in general. \r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default About;","import React, { Component } from 'react';\r\nimport { Accordion, Button, Card } from 'react-bootstrap';\r\n\r\nimport About from './About';\r\n\r\nvar link = ('https://accounts.spotify.com/authorize?' + \r\n            'client_id=' + process.env.REACT_APP_CLIENT_ID + \r\n            '&redirect_uri=' + process.env.REACT_APP_REDIRECT_URI + \r\n\t\t\t'&scope=' + process.env.REACT_APP_SCOPES +\r\n            '&response_type=' + process.env.REACT_APP_RESPONSE_TYPE +\r\n            '&show_dialog=true' \r\n            );\r\n\t\t\t\r\n\t\t\t//TODO: figure out how to use state for added security\r\n\r\nclass Login extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div style={{textAlign: 'center'}}>\r\n\t\t\t\t<h1>Spotistics</h1>\r\n\t\t\t\t\r\n\t\t\t\t<Accordion>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\r\n\t\t\t\t\t\t\t\tAbout\r\n\t\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\r\n\t\t\t\t\t\t\t<Card.Body><About/></Card.Body>\r\n\t\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Accordion>\r\n\t\t\t\t\r\n\t\t\t\t<Button size='lg' href={link}>\r\n\t\t\t\t\tLogin to Spotify\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Login;","import React, { Component, useState  } from 'react';\r\nimport { Container, Row, Col, Modal, Button, Image } from 'react-bootstrap';\r\n\r\nimport '../../style/header.css';\r\n\r\nclass Header extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tuserImg: '',\r\n\t\t\tuserName: ''\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\ttry {\r\n\t\t\tthis.setState({ userImg: this.props.user.images[0].url });\r\n\t\t\tthis.setState({ userName: this.props.user.display_name });\r\n\t\t} catch (e) {\r\n\t\t\t//console.log(e);\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevProps.user !== this.props.user) {\r\n\t\t\tthis.componentDidMount();\r\n\t\t}\r\n\t}\r\n\r\n\tlogout = () => {\r\n\t\tconst [show, setShow] = useState(false);\r\n\r\n\t\tconst handleClose = () => setShow(false);\r\n\t\tconst handleShow = () => setShow(true);\r\n\t\t\r\n\t\tconst imgSize = 50;\r\n\t\t\r\n\t\t//console.log(this.state.userName);\r\n\t\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Button variant=\"link\" onClick={handleShow}>\r\n\t\t\t\t\t{this.state.userName}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Image className='userImg'\r\n\t\t\t\t\t\t\tsrc={this.state.userImg}\r\n\t\t\t\t\t\t\twidth={imgSize} height={imgSize}\r\n\t\t\t\t\t\t\troundedCircle \r\n\t\t\t\t\t/>\r\n\t\t\t\t</Button>\r\n\r\n\t\t\t\t<Modal show={show} onHide={handleClose}>\r\n\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t<Modal.Title>Not you?</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>Click this to logout!</Modal.Body>\r\n\t\t\t\t\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"secondary\" onClick={handleClose}>\r\n\t\t\t\t\t\tCancel\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Button variant=\"primary\" onClick={this.props.errorFunc}>\r\n\t\t\t\t\t\tLogout\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t  </Modal>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\t\r\n\trender() {\t\r\n\t\treturn (\r\n\t\t\t<Container fluid className='header'>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col className='my-auto'>\t\t\t\t\r\n\t\t\t\t\t\t\t<h1>Spotistics</h1>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Col className='logout'>\r\n\t\t\t\t\t\t\t<this.logout/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\t\t\t</Container>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Header;","import React, { Component } from 'react';\r\nimport { Nav } from 'react-bootstrap';\r\n\r\n/*import {\r\n\tBrowserRouter as Router,\r\n\tSwitch,\r\n\tRoute,\r\n\tLink\r\n} from 'react-router-dom';*/\r\n\r\nclass Header extends Component {\r\n\t\r\n\trender() {\t\r\n\t\t/*return (\r\n\t\t\t<Router>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<nav>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Link to='/artists'>Artists</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Link to='/tracks'>Tracks</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Link to='/statistics'>Stats</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</nav>\r\n\t\t\t\t\t\r\n\t\t\t\t\t <Switch>\r\n\t\t\t\t\t\t<Route path=\"/artists\">\r\n\t\t\t\t\t\t\t{this.props.artistView}\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Route path=\"/tracks\">\r\n\t\t\t\t\t\t\t{this.props.trackView}\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Route path=\"/stats\">\r\n\t\t\t\t\t\t\t{this.props.statsView}\t\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\r\n\t\t\t</Router>\r\n\t\t)*/\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Nav \r\n\t\t\t\tfill justify variant='tabs'\r\n\t\t\t\tdefaultActiveKey={0}\r\n\t\t\t\tonSelect={(selectedView) => (this.props.setView(selectedView))}\r\n\t\t\t>\r\n\t\t\t\t<Nav.Item>\r\n\t\t\t\t\t<Nav.Link eventKey={0}>\r\n\t\t\t\t\t\t<h2> Top Artists </h2>\r\n\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t</Nav.Item>\r\n\t\t\t\t\r\n\t\t\t\t<Nav.Item>\r\n\t\t\t\t\t<Nav.Link eventKey={1}>\r\n\t\t\t\t\t\t<h2> Top Tracks </h2>\r\n\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t</Nav.Item>\r\n\t\t\t\t\r\n\t\t\t\t<Nav.Item>\r\n\t\t\t\t\t<Nav.Link eventKey={2} disabled>\r\n\t\t\t\t\t\t<h2>Statistics</h2>\r\n\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t</Nav.Item>\t\r\n\t\t\t</Nav>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Header;","import React, { Component } from 'react';\r\n\r\nclass Statistics extends Component {\r\n\trender() {\r\n\t\t\r\n\t\t//const songList = this.props.topTracks.p\r\n\t\t/*return this.props.song_list.map((song_list) => (\r\n\t\t\t<SongData key={song_list.id} song={song_list}/>\r\n\t\t));*/\r\n\t\t\r\n\t\t/*return this.props.topTracks.map((topTracks) => (\r\n\t\t\t<SongData key={topTracks.id} song = {topTracks} />\r\n\t\t));*/\r\n\t\treturn (\r\n\t\t\t<h2> sorry, this is currently a work in progress. pls come back later! </h2>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nexport default Statistics;","import React, { Component } from 'react';\r\nimport { Row, Col, Image, ListGroup } from 'react-bootstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport '../../style/content.css';\r\n\r\nclass TopArtistItem extends Component {\r\n\trender() {\r\n\t\tconst imgSize = 64;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<ListGroup.Item action target='_blank' href={this.props.artist.href}>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Image \r\n\t\t\t\t\t\tsrc={this.props.artist.images[2].url} \r\n\t\t\t\t\t\theight={imgSize} \r\n\t\t\t\t\t\twidth={imgSize}\r\n\t\t\t\t\t\troundedCircle \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Col className='my-auto'>\r\n\t\t\t\t\t\t<h3> {this.props.artist.title} </h3>\r\n\t\t\t\t\t\t<p style={{margin: 0}}> {this.props.artist.genres} </p>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</ListGroup.Item>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n// PropTypes\r\nTopArtistItem.propTypes = {\r\n\tartist: PropTypes.object.isRequired\r\n}\r\n\r\nexport default TopArtistItem;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport TopArtistItem from './TopArtistItem';\r\n\r\nclass TopArtists extends Component {\r\n\trender() {\r\n\t\treturn this.props.topArtists.map((artist) => (\r\n\t\t\t< TopArtistItem key={artist.id} artist={artist} />\r\n\t\t));\r\n\t}\r\n}\r\n\r\n// PropTypes\r\nTopArtists.propTypes = {\r\n\ttopArtists: PropTypes.array.isRequired\r\n}\r\n\r\nexport default TopArtists;","import React, { Component } from 'react';\r\nimport { Row, Col, Image, ListGroup } from 'react-bootstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass TopTrackItem extends Component {\r\n\topenLink = () => {\r\n\t\tconsole.log(this.props.track);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst imgSize = 64;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<ListGroup.Item action target='_blank' href={this.props.track.href}>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Image \r\n\t\t\t\t\t\tsrc={this.props.track.images[2].url} \r\n\t\t\t\t\t\theight={imgSize} \r\n\t\t\t\t\t\twidth={imgSize}\r\n\t\t\t\t\t\troundedCircle \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Col className='my-auto'>\r\n\t\t\t\t\t\t<h3> {this.props.track.title} </h3>\r\n\t\t\t\t\t\t<p> {this.props.track.artistName} </p>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</ListGroup.Item>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n// PropTypes\r\nTopTrackItem.propTypes = {\r\n\ttrack: PropTypes.object.isRequired\r\n}\r\n\r\nexport default TopTrackItem;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport TopTrackItem from './TopTrackItem';\r\n\r\nclass TopTracks extends Component {\r\n\trender() {\r\n\t\treturn this.props.topTracks.map((track) => (\r\n\t\t\t< TopTrackItem key={track.id} track={track} />\r\n\t\t));\r\n\t\t\r\n\t}\r\n}\r\n\r\n// PropTypes\r\nTopTracks.propTypes = {\r\n\ttopTracks: PropTypes.array.isRequired\r\n}\r\n\r\nexport default TopTracks;","function parseData(songData) {\r\n\tvar parsedData = [];\r\n\t//.log(songData);\r\n\t\r\n\tif (songData.type === 'user') {\r\n\t\treturn songData;\r\n\t}\r\n\t\r\n\tsongData = songData.items;\r\n\t\r\n\tif (songData[0].type === 'artist') {\r\n\t\tparsedData = parseArtists(songData);\r\n\t} else if (songData[0].type === 'track') {\r\n\t\tparsedData = parseTracks(songData);\r\n\t} else {\r\n\t\tconsole.log('error');\r\n\t\t//throw error\r\n\t}\r\n\t\r\n\treturn parsedData;\r\n}\r\n\r\nfunction parseTracks(songData) {\r\n\tvar parsedData = [];\r\n\t\r\n\tfor (var i = 0; i < songData.length; i++) {\r\n\t\t//console.log(songData[i].external_urls.spotify);\r\n\t\tparsedData[i] = {\r\n\t\t\tid: songData[i].id,\r\n\t\t\ttitle: songData[i].name,\r\n\t\t\tartistName: songData[i].artists[0].name,\r\n\t\t\talbumTitle: songData[i].album.name,\r\n\t\t\thref: songData[i].external_urls.spotify,\r\n\t\t\timages: songData[i].album.images,\r\n\t\t\treleaseDate: songData[i].album.release_date,\r\n\t\t\ttype: songData[i].type\r\n\t\t}\r\n\t}\r\n\t\r\n\t//console.log(parsedData);\r\n\t\r\n\treturn parsedData;\r\n}\r\n\r\nfunction parseArtists(songData) {\r\n\tvar parsedData = [];\r\n\t\r\n\tfor (var i = 0; i < songData.length; i++) {\r\n\t\t//console.log(songData[i].external_urls.spotify);\r\n\t\tparsedData[i] = {\r\n\t\t\tid: songData[i].id,\r\n\t\t\ttitle: songData[i].name,\r\n\t\t\thref: songData[i].external_urls.spotify,\r\n\t\t\timages: songData[i].images,\r\n\t\t\tgenres: arrToString(songData[i].genres),\r\n\t\t\ttype: songData[i].type\r\n\t\t}\r\n\t}\r\n\t\r\n\t//console.log(parsedData);\r\n\t\r\n\treturn parsedData;\r\n}\r\n\r\nfunction arrToString(array) {\r\n\tconst arrLen = array.length;\r\n\tvar newString = '';\r\n\r\n\tif (arrLen === 0) {\r\n\t\treturn ' ';\r\n\t}\r\n\t\r\n\tif (arrLen === 1) {\r\n\t\treturn array[0].toString();\r\n\t}\r\n\t\r\n\tfor (var i = 0; i < arrLen; i++) {\r\n\t\tnewString += array[i];\r\n    \r\n\t\tif ((i + 1) < arrLen) {\r\n\t\t\tnewString += ', ';\r\n\t\t}\r\n\t}\r\n\r\n  return newString;\r\n}\r\n\r\nexport { parseData };","import $ from 'jquery';\r\nimport { parseData } from '../api/parseData';\r\n\r\nasync function spotifyRequest(accessToken, url) {\r\n\tconst baseURL = 'https://api.spotify.com/v1/me';\r\n\tvar songData = [];\r\n\t\r\n\t//console.log(baseURL + url);\r\n\t\r\n\tawait $.ajax({\r\n\t\turl: baseURL + url,\r\n\t\theaders: {\r\n\t\t\t'Authorization': 'Bearer ' + accessToken\r\n\t\t},\r\n\t\tsuccess: function(response) {\r\n\t\t\tconsole.log(response);\r\n\t\t\tsongData = parseData(response);\r\n\t\t}\r\n\t});\r\n\t\r\n\treturn songData;\r\n}\r\n\r\nfunction getTop(accessToken, type = 'tracks', timeRange = 'medium_term') {\r\n\tconst limit = 50;\r\n\tconst offset = 0;\r\n\t\r\n\tconst url = ('/top/' + type +\r\n\t\t\t\t'?time_range='+ timeRange + \r\n\t\t\t\t'&limit=' + limit +\r\n\t\t\t\t'&offset=' + offset);\r\n\t//console.log(url);\t\r\n\treturn spotifyRequest(accessToken, url);\r\n}\r\n\r\nfunction getTopArtists(accessToken, timeRange = 'medium_term') {\r\n\tconst type = 'artists';\r\n\treturn getTop(accessToken, type, timeRange);\r\n}\r\n\r\nfunction getTopTracks(accessToken, timeRange = 'medium_term') {\r\n\tconst type = 'tracks';\r\n\treturn getTop(accessToken, type, timeRange);\r\n}\r\n\r\nfunction getUser(accessToken) {\r\n\treturn spotifyRequest(accessToken, '');\r\n}\r\n\r\nexport { getTopArtists, getTopTracks, getUser };","import React, { Component } from 'react';\r\nimport { Nav, ListGroup } from 'react-bootstrap';\r\n\r\nimport Statistics from '../Statistics/Statistics';\r\nimport TopArtists from '../TopArtists/TopArtists';\r\nimport TopTracks from '../TopTracks/TopTracks';\r\n\r\nimport { getTopArtists, getTopTracks } from '../../api/apiRequest';\r\n\r\nclass Body extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis.state = {\t\t\r\n\t\t\ttopArtists: [],\r\n\t\t\ttopTracks: [],\r\n\t\t\t\r\n\t\t\tartistTimeRange: 'short_term',\r\n\t\t\ttrackTimeRange: 'short_term'\r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tconst accessToken = this.props.hashFragment.accessToken;\r\n\t\t\r\n\t\tgetTopArtists(accessToken, this.state.artistTimeRange)\r\n\t\t\t.then((response) => (this.setState({ topArtists: response })))\r\n\t\t\t.catch(this.props.errorFunc);\r\n\t\t\t\r\n\t\tgetTopTracks(accessToken, this.state.trackTimeRange)\r\n\t\t\t.then((response) => (this.setState({ topTracks: response })))\r\n\t\t\t.catch(this.props.errorFunc);\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif ((prevState.artistTimeRange !== this.state.artistTimeRange) ||\r\n\t\t\t(prevState.trackTimeRange !== this.state.trackTimeRange)) {\r\n\t\t\tconsole.log(this.state.artistTimeRange);\r\n\t\t\tthis.componentDidMount();\r\n\t\t}\r\n\t}\r\n\t\r\n\tupdateArtistTimeRangeState = (timeRange) => {\r\n\t\tthis.setState({ artistTimeRange: timeRange });\r\n\t}\r\n\t\r\n\tupdateTrackTimeRangeState = (timeRange) => {\r\n\t\tthis.setState({ trackTimeRange: timeRange });\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t//console.log(this.props.contentType);\r\n\t\t\r\n\t\tif (this.props.contentType == 0) {\r\n\t\t\treturn (\r\n\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t<Nav\r\n\t\t\t\t\t\t\tclassName='justify-content-center'\r\n\t\t\t\t\t\t\tvariant='pills'\r\n\t\t\t\t\t\t\tdefaultActiveKey='short_term'\r\n\t\t\t\t\t\t\tonSelect={(timeRange) => this.updateArtistTimeRangeState(timeRange)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Nav.Item>\r\n\t\t\t\t\t\t\t\t<Nav.Link eventKey='short_term'>1 Month</Nav.Link>\r\n\t\t\t\t\t\t\t</Nav.Item>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Nav.Item>\r\n\t\t\t\t\t\t\t\t<Nav.Link eventKey='medium_term'>6 Months</Nav.Link>\r\n\t\t\t\t\t\t\t</Nav.Item>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Nav.Item>\r\n\t\t\t\t\t\t\t\t<Nav.Link eventKey='long_term'>All Time</Nav.Link>\r\n\t\t\t\t\t\t\t</Nav.Item>\r\n\t\t\t\t\t\t</Nav>\t\t\r\n\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\r\n\t\t\t\t\t< TopArtists topArtists={this.state.topArtists} />\r\n\t\t\t\t</ListGroup>\r\n\t\t\t)\r\n\t\t} else if (this.props.contentType == 1) {\r\n\t\t\treturn (\r\n\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t<Nav\r\n\t\t\t\t\t\t\tclassName='justify-content-center'\r\n\t\t\t\t\t\t\tvariant='pills'\r\n\t\t\t\t\t\t\tdefaultActiveKey='short_term'\r\n\t\t\t\t\t\t\tonSelect={(timeRange) => this.updateTrackTimeRangeState(timeRange)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Nav.Item>\r\n\t\t\t\t\t\t\t\t<Nav.Link eventKey='short_term'>1 Month</Nav.Link>\r\n\t\t\t\t\t\t\t</Nav.Item>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Nav.Item>\r\n\t\t\t\t\t\t\t\t<Nav.Link eventKey='medium_term'>6 Months</Nav.Link>\r\n\t\t\t\t\t\t\t</Nav.Item>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Nav.Item>\r\n\t\t\t\t\t\t\t\t<Nav.Link eventKey='long_term'>All Time</Nav.Link>\r\n\t\t\t\t\t\t\t</Nav.Item>\r\n\t\t\t\t\t\t</Nav>\t\r\n\t\t\t\t\t</ListGroup.Item>\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t< TopTracks topTracks={this.state.topTracks} />\r\n\t\t\t\t</ListGroup>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1>Statistics</h1>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Statistics/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default Body;","import React, { Component, useState } from 'react';\r\nimport { Container, Row, Col, Modal } from 'react-bootstrap';\r\n\r\nimport About from '../About';\r\n\r\nimport '../../style/footer.css';\r\n\r\nclass Footer extends Component {\r\n\taboutModal = () => {\r\n\t\tconst [show, setShow] = useState(false);\r\n\r\n\t\tconst handleClose = () => setShow(false);\r\n\t\tconst handleShow = () => setShow(true);\r\n\t\t\r\n\t\t//console.log(this.state.userName);\r\n\t\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<a onClick={handleShow}>about</a>\r\n\r\n\t\t\t\t<Modal show={show} onHide={handleClose}>\r\n\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t<Modal.Title>About</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<About />\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t  </Modal>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Container fluid className='footer'>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<p>Made by Christopher Yung</p>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<a target='_blank' href='https://github.com/yung4/spotistics'>github repo</a>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<this.aboutModal/>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Footer;","import React, { Component } from 'react';\r\nimport { Container } from 'react-bootstrap';\r\n\r\nimport Header from './Header';\r\nimport NavBar from './NavBar';\r\nimport Body from './Body';\r\nimport Footer from './Footer';\r\n\r\nimport { getUser } from '../../api/apiRequest';\r\n\r\nclass Home extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\t//if content type is 0, show top artists\r\n\t\t\t//if content type is 1, show top tracks\r\n\t\t\t//if content type is 2, show stats\r\n\t\t\tcontentType: 0, \r\n\t\t\tuser: {}\r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tgetUser(this.props.hashFragment.accessToken)\r\n\t\t\t.then((response) => {\r\n\t\t\t\t(this.setState({ user: response }));\r\n\t\t\t\t//console.log(this.state.user);\r\n\t\t\t})\r\n\t\t\t.catch(this.errorFunc);\r\n\t\t\r\n\t\t//console.log(this.state.user);\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevState.contentType !== this.state.contentType) {\r\n\t\t\tthis.componentDidMount();\r\n\t\t}\r\n\t}\r\n\t\r\n\terrorFunc = (error) => {\r\n\t\tconsole.log(error);\r\n\t\twindow.location.replace(process.env.REACT_APP_REDIRECT_URI);\r\n\t}\r\n\t\r\n\tsetView = (viewNum) => {\r\n\t\tthis.setState({ contentType: viewNum });\r\n\t\tconsole.log(this.state.contentType);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t< Header user={this.state.user} errorFunc={this.errorFunc}\r\n\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t< NavBar setView={this.setView}/>\r\n\t\t\t\t\r\n\t\t\t\t\t< Body hashFragment={this.props.hashFragment} contentType={this.state.contentType} \r\n\t\t\t\t\t\t\terrorFunc={this.errorFunc}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Container>\r\n\t\t\t\t\r\n\t\t\t\t< Footer />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Home;","var paramObj = {};\r\n\r\nfunction getAuthorization() {\r\n\tconst urlObj = window.location;\r\n\tconst url = urlObj.href;\r\n\t//const origin = urlObj.origin;\r\n\t\r\n\tif (url.indexOf('?') !== -1) {\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tconsole.log(url);\r\n\t\r\n\tconst params = url.slice(url.lastIndexOf('/'));\r\n\t//console.log(params);\r\n\t\r\n\tif ((params === '?error=access_denied') || (params === '')) {\r\n\t\tconsole.log('Sorry, something went wrong. Please try again later.');\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tconst paramArr = params.split('&');\r\n\t//console.log(paramArr);\r\n\t\r\n\ttry {\r\n\t\tparamObj.accessToken = paramArr[0].slice(paramArr[0].indexOf('=') + 1);\r\n\t\tparamObj.tokenType = paramArr[1].slice(paramArr[1].indexOf('=') + 1);\r\n\t\tparamObj.expiresIn = paramArr[2].slice(paramArr[2].indexOf('=') + 1);\r\n\t} catch (e) {\r\n\t\tconsole.log(e);\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t//console.log(paramObj);\r\n\t\r\n\treturn true;\r\n}\r\n\r\nexport { getAuthorization, paramObj };\r\n","import React, {Component} from 'react';\r\n\r\nimport Login from './components/Login';\r\nimport Home from './components/Content/Home';\r\n\r\nimport { getAuthorization, paramObj } from './api/auth';\r\n\r\n\r\nclass App extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tloggedInStatus: false,\r\n\t\t\thashFragment: {},\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({loggedInStatus: getAuthorization()});\r\n\t\tthis.setState({hashFragment: paramObj });\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconsole.log(this.state);\r\n\r\n\t\tif (!this.state.loggedInStatus) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"App\">\r\n\t\t\t\t\t< Login />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"App\">\r\n\t\t\t\t\t< Home hashFragment={this.state.hashFragment}/>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}