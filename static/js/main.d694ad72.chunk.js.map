{"version":3,"sources":["components/Login.js","components/Content/Header.js","components/Statistics/Statistics.js","components/TopArtists/TopArtistItem.js","components/TopArtists/TopArtists.js","components/TopTracks/TopTrackItem.js","components/TopTracks/TopTracks.js","api/parseData.js","api/apiRequest.js","components/Content/Body.js","components/Content/Footer.js","components/Content/Home.js","api/auth.js","App.js","index.js"],"names":["Login","className","href","Component","Header","state","userImg","userName","this","setState","props","user","images","url","display_name","e","prevProps","prevState","componentDidMount","src","width","height","alt","onClick","artistView","trackView","statsView","Statistics","TopArtistItem","artist","title","genres","TopArtists","topArtists","map","key","id","TopTrackItem","track","artistName","TopTracks","topTracks","parseData","songData","parsedData","type","items","i","length","name","arrToString","parseArtists","artists","albumTitle","album","external_urls","releaseDate","release_date","parseTracks","console","log","array","arrLen","newString","toString","spotifyRequest","accessToken","a","$","ajax","headers","success","response","getTop","timeRange","limit","offset","Body","updateArtistTimeRangeState","artistTimeRange","updateTrackTimeRangeState","trackTimeRange","hashFragment","getTopArtists","then","catch","errorFunc","getTopTracks","contentType","Footer","Home","error","window","location","replace","process","paramObj","getAuthorization","urlObj","origin","params","slice","paramArr","split","indexOf","tokenType","expiresIn","App","loggedInStatus","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d694ad72.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nvar link = ('https://accounts.spotify.com/authorize?' + \r\n            'client_id=' + process.env.REACT_APP_CLIENT_ID + \r\n            '&redirect_uri=' + process.env.REACT_APP_REDIRECT_URI + \r\n\t\t\t'&scope=' + process.env.REACT_APP_SCOPES +\r\n            '&response_type=' + process.env.REACT_APP_RESPONSE_TYPE +\r\n            '&show_dialog=true' \r\n            );\r\n\t\t\t\r\n\t\t\t//TODO: figure out how to use state for added security\r\n\r\nclass Login extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<a className='App-link' href={link}>\r\n\t\t\t\t\tLogin to Spotify\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Login;","import React, { Component } from 'react';\r\n\r\n\r\nclass Header extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tuserImg: '',\r\n\t\t\tuserName: ''\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\ttry {\r\n\t\t\tthis.setState({ userImg: this.props.user.images[0].url });\r\n\t\t\tthis.setState({ userName: this.props.user.display_name });\r\n\t\t} catch (e) {\r\n\t\t\t//console.log(e);\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevProps.user !== this.props.user) {\r\n\t\t\tthis.componentDidMount();\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst imgSize = 50;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1>Spotistics</h1>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<img src={this.state.userImg}\r\n\t\t\t\t\t\twidth={imgSize} height={imgSize}\r\n\t\t\t\t\t\talt='User Profile'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<p>logged in as {this.state.userName}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<button onClick={this.props.artistView}>\r\n\t\t\t\t\t'Artists'\r\n\t\t\t\t</button>\r\n\t\t\t\t\r\n\t\t\t\t<button onClick={this.props.trackView}>\r\n\t\t\t\t\t'Tracks'\r\n\t\t\t\t</button>\r\n\t\t\t\t\r\n\t\t\t\t<button onClick={this.props.statsView}>\r\n\t\t\t\t\t'Statistics'\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Header;","import React, { Component } from 'react';\r\n\r\nclass Statistics extends Component {\r\n\trender() {\r\n\t\t\r\n\t\t//const songList = this.props.topTracks.p\r\n\t\t/*return this.props.song_list.map((song_list) => (\r\n\t\t\t<SongData key={song_list.id} song={song_list}/>\r\n\t\t));*/\r\n\t\t\r\n\t\t/*return this.props.topTracks.map((topTracks) => (\r\n\t\t\t<SongData key={topTracks.id} song = {topTracks} />\r\n\t\t));*/\r\n\t\treturn (\r\n\t\t\t<h2> sorry, this is currently a work in progress. pls come back later! </h2>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nexport default Statistics;","import React, { Component } from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nclass TopArtistItem extends Component {\r\n\trender() {\r\n\t\t//console.log(this.props.artist.title);\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<img src={this.props.artist.images[1].url} \r\n\t\t\t\t\talt={this.props.artist.title + ' image'}\r\n\t\t\t\t\theight='150' width='150'\r\n\t\t\t\t/>\r\n\t\t\t\t<h3> {this.props.artist.title} </h3>\r\n\t\t\t\t<p> {this.props.artist.genres} </p>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n// PropTypes\r\nTopArtistItem.propTypes = {\r\n\tartist: PropTypes.object.isRequired\r\n}\r\n\r\nexport default TopArtistItem;","import React, { Component } from 'react';\r\nimport TopArtistItem from './TopArtistItem';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nclass TopArtists extends Component {\r\n\trender() {\r\n\t\treturn this.props.topArtists.map((artist) => (\r\n\t\t\t< TopArtistItem key={artist.id} artist={artist} />\r\n\t\t));\r\n\t\t\r\n\t}\r\n}\r\n\r\n// PropTypes\r\nTopArtists.propTypes = {\r\n\ttopArtists: PropTypes.array.isRequired\r\n}\r\n\r\nexport default TopArtists;","import React, { Component } from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nclass TopTrackItem extends Component {\r\n\trender() {\r\n\t\t//console.log(this.props.artist.title);\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<img src={this.props.track.images[2].url} \r\n\t\t\t\t\talt={this.props.track.title + ' image'}\r\n\t\t\t\t/>\r\n\t\t\t\t<h3> {this.props.track.title} </h3>\r\n\t\t\t\t<p> {this.props.track.artistName} </p>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n// PropTypes\r\nTopTrackItem.propTypes = {\r\n\ttrack: PropTypes.object.isRequired\r\n}\r\n\r\nexport default TopTrackItem;","import React, { Component } from 'react';\r\nimport TopTrackItem from './TopTrackItem';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nclass TopTracks extends Component {\r\n\trender() {\r\n\t\treturn this.props.topTracks.map((track) => (\r\n\t\t\t< TopTrackItem key={track.id} track={track} />\r\n\t\t));\r\n\t\t\r\n\t}\r\n}\r\n\r\n// PropTypes\r\nTopTracks.propTypes = {\r\n\ttopTracks: PropTypes.array.isRequired\r\n}\r\n\r\nexport default TopTracks;","\r\n\r\nfunction parseData(songData) {\r\n\tvar parsedData = [];\r\n\t//.log(songData);\r\n\t\r\n\tif (songData.type === 'user') {\r\n\t\treturn songData;\r\n\t}\r\n\t\r\n\tsongData = songData.items;\r\n\t\r\n\tif (songData[0].type === 'artist') {\r\n\t\tparsedData = parseArtists(songData);\r\n\t} else if (songData[0].type === 'track') {\r\n\t\tparsedData = parseTracks(songData);\r\n\t} else {\r\n\t\tconsole.log('error');\r\n\t\t//throw error\r\n\t}\r\n\t\r\n\treturn parsedData;\r\n}\r\n\r\nfunction parseTracks(songData) {\r\n\tvar parsedData = [];\r\n\t\r\n\tfor (var i = 0; i < songData.length; i++) {\r\n\t\t//console.log(songData[i].name);\r\n\t\tparsedData[i] = {\r\n\t\t\tid: songData[i].id,\r\n\t\t\ttitle: songData[i].name,\r\n\t\t\tartistName: songData[i].artists[0].name,\r\n\t\t\talbumTitle: songData[i].album.name,\r\n\t\t\thref: songData[i].external_urls[0],\r\n\t\t\timages: songData[i].album.images,\r\n\t\t\treleaseDate: songData[i].album.release_date,\r\n\t\t\ttype: songData[i].type\r\n\t\t}\r\n\t}\r\n\t\r\n\t//console.log(parsedData);\r\n\t\r\n\treturn parsedData;\r\n}\r\n\r\nfunction parseArtists(songData) {\r\n\tvar parsedData = [];\r\n\t\r\n\tfor (var i = 0; i < songData.length; i++) {\r\n\t\t//console.log(songData[i].name);\r\n\t\tparsedData[i] = {\r\n\t\t\tid: songData[i].id,\r\n\t\t\ttitle: songData[i].name,\r\n\t\t\thref: songData[i].href,\r\n\t\t\timages: songData[i].images,\r\n\t\t\tgenres: arrToString(songData[i].genres),\r\n\t\t\ttype: songData[i].type\r\n\t\t}\r\n\t}\r\n\t\r\n\t//console.log(parsedData);\r\n\t\r\n\treturn parsedData;\r\n}\r\n\r\nfunction arrToString(array) {\r\n\tconst arrLen = array.length;\r\n\tvar newString = '';\r\n\r\n\tif (arrLen === 0) {\r\n\t\t//return 'null';\r\n\t}\r\n\t\r\n\tif (arrLen === 1) {\r\n\t\treturn array[0].toString();\r\n\t}\r\n\t\r\n\tfor (var i = 0; i < arrLen; i++) {\r\n\t\tnewString += array[i];\r\n    \r\n\t\tif ((i + 1) < arrLen) {\r\n\t\t\tnewString += ', ';\r\n\t\t}\r\n\t}\r\n\r\n  return newString;\r\n}\r\n\r\nexport { parseData };","import $ from 'jquery';\r\nimport { parseData } from '../api/parseData';\r\n\r\nasync function spotifyRequest(accessToken, url) {\r\n\tconst baseURL = 'https://api.spotify.com/v1/me';\r\n\tvar songData = [];\r\n\t\r\n\t//console.log(baseURL + url);\r\n\t\r\n\tawait $.ajax({\r\n\t\turl: baseURL + url,\r\n\t\theaders: {\r\n\t\t\t'Authorization': 'Bearer ' + accessToken\r\n\t\t},\r\n\t\tsuccess: function(response) {\r\n\t\t\tconsole.log(response);\r\n\t\t\tsongData = parseData(response);\r\n\t\t}\r\n\t});\r\n\t\r\n\treturn songData;\r\n}\r\n\r\nfunction getTop(accessToken, type = 'tracks', timeRange = 'medium_term') {\r\n\tconst limit = 50;\r\n\tconst offset = 0;\r\n\t\r\n\tconst url = ('/top/' + type +\r\n\t\t\t\t'?time_range='+ timeRange + \r\n\t\t\t\t'&limit=' + limit +\r\n\t\t\t\t'&offset=' + offset);\r\n\t//console.log(url);\t\r\n\treturn spotifyRequest(accessToken, url);\r\n}\r\n\r\nfunction getTopArtists(accessToken, timeRange = 'medium_term') {\r\n\tconst type = 'artists';\r\n\treturn getTop(accessToken, type, timeRange);\r\n}\r\n\r\nfunction getTopTracks(accessToken, timeRange = 'medium_term') {\r\n\tconst type = 'tracks';\r\n\treturn getTop(accessToken, type, timeRange);\r\n}\r\n\r\nfunction getUser(accessToken) {\r\n\treturn spotifyRequest(accessToken, '');\r\n}\r\n\r\nexport { getTopArtists, getTopTracks, getUser };","import React, { Component } from 'react';\r\n\r\nimport Statistics from '../Statistics/Statistics';\r\nimport TopArtists from '../TopArtists/TopArtists';\r\nimport TopTracks from '../TopTracks/TopTracks';\r\n\r\nimport { getTopArtists, getTopTracks } from '../../api/apiRequest';\r\n\r\nclass Body extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis.state = {\t\t\r\n\t\t\ttopArtists: [],\r\n\t\t\ttopTracks: [],\r\n\t\t\t\r\n\t\t\tartistTimeRange: 'short_term',\r\n\t\t\ttrackTimeRange: 'short_term'\r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tconst accessToken = this.props.hashFragment.accessToken;\r\n\t\t\r\n\t\tgetTopArtists(accessToken, this.state.artistTimeRange)\r\n\t\t\t.then((response) => (this.setState({ topArtists: response })))\r\n\t\t\t.catch(this.props.errorFunc);\r\n\t\t\t\r\n\t\tgetTopTracks(accessToken, this.state.trackTimeRange)\r\n\t\t\t.then((response) => (this.setState({ topTracks: response })))\r\n\t\t\t.catch(this.props.errorFunc);\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif ((prevState.artistTimeRange !== this.state.artistTimeRange) ||\r\n\t\t\t(prevState.trackTimeRange !== this.state.trackTimeRange)) {\r\n\t\t\tconsole.log(this.state.artistTimeRange);\r\n\t\t\tthis.componentDidMount();\r\n\t\t}\r\n\t}\r\n\t\r\n\tupdateArtistTimeRangeState = (timeRange) => {\r\n\t\tthis.setState({ artistTimeRange: timeRange });\r\n\t}\r\n\t\r\n\tupdateTrackTimeRangeState = (timeRange) => {\r\n\t\tthis.setState({ trackTimeRange: timeRange });\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tif (this.props.contentType === 0) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1>Top Artists</h1>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button onClick={() => this.updateArtistTimeRangeState('short_term')}>\r\n\t\t\t\t\t\t1 month\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t<button onClick={() => this.updateArtistTimeRangeState('medium_term')}>\r\n\t\t\t\t\t\t6 months\r\n\t\t\t\t\t\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button onClick={() => this.updateArtistTimeRangeState('long_term')}>\r\n\t\t\t\t\t\tAll time\r\n\t\t\t\t\t</button>\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t< TopArtists topArtists={this.state.topArtists} />\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t} else if (this.props.contentType === 1) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1>Top Tracks</h1>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button onClick={() => this.updateTrackTimeRangeState('short_term')}>\r\n\t\t\t\t\t\t1 month\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button onClick={() => this.updateTrackTimeRangeState('medium_term')}>\r\n\t\t\t\t\t\t6 months\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button onClick={() => this.updateTrackTimeRangeState('long_term')}>\r\n\t\t\t\t\t\tAll time\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t< TopTracks topTracks={this.state.topTracks} />\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1>Statistics</h1>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Statistics/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default Body;","import React, { Component } from 'react';\r\n\r\nclass Footer extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>Made by Christopher Yung</p>\r\n\t\t\t\t\t<p>github repo</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Footer;","import React, { Component } from 'react';\r\n\r\nimport Header from './Header';\r\nimport Body from './Body';\r\nimport Footer from './Footer';\r\n\r\nimport { getUser } from '../../api/apiRequest';\r\n\r\nclass Home extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\t//if content type is 0, show top artists\r\n\t\t\t//if content type is 1, show top tracks\r\n\t\t\t//if content type is 2, show stats\r\n\t\t\tcontentType: 0, \r\n\t\t\tuser: {}\r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tgetUser(this.props.hashFragment.accessToken)\r\n\t\t\t.then((response) => {\r\n\t\t\t\t(this.setState({ user: response }));\r\n\t\t\t\tconsole.log(this.state.user);\r\n\t\t\t})\r\n\t\t\t.catch(this.errorFunc);\r\n\t\t\r\n\t\t//console.log(this.state.user);\r\n\t}\r\n\t\r\n\terrorFunc = (error) => {\r\n\t\tconsole.log(error);\r\n\t\twindow.location.replace(process.env.REACT_APP_REDIRECT_URI);\r\n\t}\r\n\t\r\n\tartistView = () => {\r\n\t\tthis.setState({ contentType: 0 });\r\n\t\tconsole.log('showing artists');\r\n\t}\r\n\t\r\n\ttrackView = () => {\r\n\t\tthis.setState({ contentType: 1 });\r\n\t\tconsole.log('showing tracks');\r\n\t}\r\n\t\r\n\tstatsView = () => {\r\n\t\tthis.setState({ contentType: 2 });\r\n\t\tconsole.log('showing stats');\r\n\t}\r\n\t\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t< Header artistView={this.artistView} trackView={this.trackView} \r\n\t\t\t\t\t\tstatsView={this.statsView} user={this.state.user}\r\n\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t\t< Body hashFragment={this.props.hashFragment} contentType={this.state.contentType} \r\n\t\t\t\t\t\terrorFunc={this.errorFunc}\r\n\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t\t< Footer />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Home;","var paramObj = {};\r\n\r\nfunction getAuthorization() {\r\n\tconst urlObj = window.location;\r\n\tconst url = urlObj.href;\r\n\tconst origin = urlObj.origin;\r\n\t//console.log(url);\r\n\t//console.log(origin);\r\n\t\r\n\tconst params = url.slice(origin.length + 1);\r\n\t//console.log(params);\r\n\t\r\n\tif ((params === '?error=access_denied') || (params === '')) {\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tconst paramArr = params.split('&');\r\n\t//console.log(paramArr);\r\n\t\r\n\tparamObj.accessToken = paramArr[0].slice(paramArr[0].indexOf('=') + 1);\r\n\tparamObj.tokenType = paramArr[1].slice(paramArr[1].indexOf('=') + 1);\r\n\tparamObj.expiresIn = paramArr[2].slice(paramArr[2].indexOf('=') + 1);\r\n\t\r\n\t//console.log(paramObj);\r\n\t\r\n\treturn true;\r\n}\r\n\r\nexport { getAuthorization, paramObj };\r\n","import React, {Component} from 'react';\r\n\r\nimport Login from './components/Login';\r\nimport Home from './components/Content/Home';\r\n\r\nimport { getAuthorization, paramObj } from './api/auth';\r\n\r\n\r\nclass App extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tloggedInStatus: getAuthorization(),\r\n\t\t\thashFragment: paramObj,\r\n\t\t}\r\n\t}\t\r\n\t\r\n\trender() {\r\n\t\tconsole.log(this.state);\r\n\r\n\t\tif (!this.state.loggedInStatus) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"App\">\r\n\t\t\t\t\t< Login />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"App\">\r\n\t\t\t\t\t< Home hashFragment={this.state.hashFragment}/>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}